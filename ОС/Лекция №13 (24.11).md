Схемы ассоциативной памяти (доска сверху).
Схема ассоциативно-прямого отображения (доска снизу).
![[20231124_155931.jpg]]

Intel реализует третью схему. Пусть и частично ассоциативную, но ассоциативный кеш. 
Схема страничной памяти с *кибер* страницами.

# Замещение страниц
## Выталкивание случайной таблицы.
Может быть выгружена часто используемая таблица и только что загруженная в память страница. Применяется редко. Но не никогда.
## FIFO
...
Аномалия FIFO - увеличение объёма физической памяти может привести к увеличению числа страничных прерываний.
**Страничная неудача**
... доказательство проводиться для *некоторой части страниц*...
Добавим ещё страницу -> число страничных неудач вырастает.

## Least recently used
Выталкивается страница, к которой дольше всего не было обращений.
Для реализации могут использоваться временные метки или связный список, которые должны редактироваться при каждом обращении к таблице. Таким образом, в голове списка оказываются таблицы, к которым дольше всего не был реализован доступ.
Алгоритм LRU относится к стековым алгоритмам. Полностью соответствует свойству локальности нашей программы -- если обращение было к странице, то наиболее вероятно, что и следующее обращение будет к этой странице.

## Least frequency used 
Наименее часто используемая страница. Для реализации контролируется частота обращения к странице. Но наименее используемой может оказаться только что загруженная страница (она ещё не успела набрать обращений).

## Not used recently
Не используемые в последнее время. Для реализации каждой странице приписывается бит обращения. *Рисует таблицу.* Все биты обращения время от времени сбрасываются, а при обращении к странице и её загрузки - он устанавливается в единицу. В рез-те страница для выгрузки ищется среди страниц, у которых бит обращения 0.
Лучше ... не модифицированную, потому что на диске нет её копий.
... 
Четыре уровня таблиц страниц! От виртуальной памяти не отказываются для увеличения мультизадачности. Чтобы в памяти могло находиться одновременно несколько программ.

# Теория рабочего множества
...эта зависимость является обобщённой мерой страничного поведения программ. В 1968г Деннинг предложил в качестве локальной меры производительности взять число страниц, к которым процесс обращается за deltaT.

... то происходит thrashing - пробуксовка. Загрузка и выгрузка одних и тех же страниц.