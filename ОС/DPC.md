Deferred Procedure Call (DPC) в операционной системе Windows - это механизм, который позволяет выполнять задачи с высоким приоритетом (например, обработчики прерываний) откладывать выполнение задач с более низким приоритетом на более позднее время. Это позволяет драйверам устройств и другим потребителям событий на низком уровне быстро выполнять высокоприоритетную часть своего обработки и запланировать дополнительную обработку для выполнения с более низким приоритетом [1](https://en.wikipedia.org/wiki/Deferred_Procedure_Call).

DPC реализуются с помощью объектов DPC, которые создаются и инициализируются ядром, когда драйвер устройства или другой программный продукт на уровне ядра выдает запросы DPC. Запросы DPC добавляются в конец очереди DPC. Каждый процессор имеет свою собственную очередь DPC. DPC имеют три уровня приоритета: низкий, средний и высокий. По умолчанию все DPC установлены на средний приоритет. Когда Windows устанавливает уровень прерывания (IRQL) на уровень Dispatch/DPC, он проверяет очередь DPC на наличие ожидающих DPC и выполняет их, пока очередь не опустеет или не произойдет другое прерывание с более высоким IRQL [1](https://en.wikipedia.org/wiki/Deferred_Procedure_Call).

Каждый DPC связан с системным объектом DPC. Система предоставляет один объект DPC для каждого объекта устройства. Система инициализирует этот объект DPC, когда драйвер регистрирует процедуру DPC, известную как DpcForIsr. Драйвер может создать дополнительные объекты DPC, если требуется более одного DPC. Эти дополнительные DPC известны как CustomDpc [3](https://learn.microsoft.com/en-us/windows-hardware/drivers/kernel/introduction-to-dpc-objects).

DPC и объекты DPC также могут использоваться с таймерами. Для получения дополнительной информации см. Объекты таймера и DPC [2](https://learn.microsoft.com/en-us/windows-hardware/drivers/kernel/introduction-to-dpcs).