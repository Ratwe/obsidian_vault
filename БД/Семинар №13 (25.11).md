# [[МРР системы и колоночное хранение]]
Форматы масштабирования:
- вертикальное - увеличение объёма, добавление диска покруче, плашек оперативной памяти. Сильно ограничено.
- горизонтальное - добавление нового считающего узла в системе. Пример: двухполосная дорога стала четырёхполосной. Ограничено правилом \*\*\*: есть смысл распараллеливать, пока время диспетчеризации, управления потоком не превышает время выполнения потока.

## [[Аппаратная архитектура на примере VERTICA]]
![[Recording 20231125091337.webm]]
- отсутствует единая точка отказа и подключения
- каждый узел независим и состоятелен
- узлы инфраструктуры дублируются
- данные на узлах автоматически копируются
На логическом уровне видим то, как модель видит пользователь.
![[Recording 20231125091932.webm]]

MPP работает за счёт двух шагов:
- map - раздали задачи. В каждый поток ушла задача.
- reduce - собрали задачи. Собираем с каждой ноды рез-ты их расчётов. Слепливаем их.

Каждая нода реплицирует свои данные в соседнюю.
Репликация - дублирование данных в попытке сделать безопасную систему.

Самый плохой случай - падают две соседние ноды.
![[Recording 20231125093706.webm]]

## Greenplum

![[Recording 20231125093916.webm]]
- единая точка входа и отказа
- считающие сегменты
- мастер, который выполняет reduce

## Два вида хранения данных
- по столбцам
- по строкам

## Parquet

![[Recording 20231125095149.webm]]

### Zero-links
[[00 БД]]